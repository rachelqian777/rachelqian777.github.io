<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>HR Directory</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://d3js.org/d3.v6.min.js"></script>
</head>

<body>
	<div class="container">
		<h1>HR Directory</h1>
		
		<div id="directory">
			<table class="table" id="directoryTable">
				<thead>
					<tr>
						<th>Photo</th>
						<th>Name</th>
						<th>Address</th>
						<th>Time zone</th>
						<th>Email Address</th>
						<th>Phone Number</th>
						<th>Age</th>
						<th>DOB</th>
						<th>Nationality</th>
						<th>Tenure at the company</th>
						<th>Username</th>
						<th>Password</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><img src="http://placekitten.com/128/128"></td>
						<td>Mr John Smith</td>
						<td>729 29th St.<br>Manhattan Beach California 90266<br>United States</td>
						<td>-7<br>Pacific Standard Time</td>
						<td>
							<a class="button" href="mailto: notanemail@gmail.com">Email Me</a>
						</td>
						<td>
							<a href="tel:000-000-0000">000-000-0000</a>
						</td>
						<td>45</td>
						<td>1978-01-15</td>
						<td>AU</td>
						<td>8</td>
						<td>mulberry1516</td>
						<td>skdjfhlaksd86</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
	
<script>
	d3.csv("hr-directory.csv", function (data){
		console.log(data);
	
		//append csv data to the table
		let row = '<tr>';
		row += '<td><img src="' + data['picture.large'] + '"></td>' ;
		row += '<td>' + data['name.title'] + ' ' + data['name.first'] + ' ' + data['name.last'] + '</td>';
		row += '<td>' + data['location.street.number'] + ' ' + data['location.street.name'] +'<br>' + data['location.city'] + ' ' + data['location.state'] + ' ' + data['location.postcode'] + '<br>' + data['location.country'] + '</td>'; // address
		row += '<td>' + data['location.timezone.offset'] + '<br>' + data['location.timezone.description'] + '</td>'; //timezone
		row += '<td><a href="mailto: ' + data.email + '">' + 'Email Me' + '</a></td>'; //email address
		row += '<td><a href= "tel:' + data.phone + '">' + data.phone + '</a></td>'; //phone number
		row += '<td>' + data['dob.age'] + '</td>'; //age
		row += '<td>' + data['dob.date'] + '</td>'; //DOB
		row += '<td>' + data.nat + '</td>'; //Nationality
		row += '<td>' + data['registered.age'] + '</td>'; //Tenure
		row += '<td>' + data['login.username'] + '</td>'; //username
		row += '<td>' + data['login.password'] + '</td>'; //password
		row += '</tr>'; 
	
		d3.select('#directoryTable tbody').append('tr').html(row);
	});
</script>
</html>
